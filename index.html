<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mulbum3D Printing</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://www.paypal.com/sdk/js?client-id=AWlxRpEWuzvjdHyQ__cKpDgK7pj-qfWo8qGO9BkOlUq_TpiRoChpAdRWsuQp3TqDdH6R3iuql3LBWO_u&currency=GBP"></script>

<style>
/* ===== BASE ===== */
body {
  background: radial-gradient(circle at center, #1a1a1a 0%, #050505 70%);
  color: white;
  font-family: Inter, system-ui, sans-serif;
}

.glass {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 1.75rem;
}

/* ===== NEON ORANGE ===== */
.neon-orange {
  box-shadow:
    0 0 18px rgba(255,140,0,1),
    0 0 55px rgba(255,140,0,0.85);
}

.upload-box {
  border-radius: 1.75rem;
  padding: 2rem;
  text-align: center;
  transition: 0.3s ease;
}

.upload-box:hover {
  box-shadow:
    0 0 28px rgba(255,140,0,1),
    0 0 80px rgba(255,140,0,0.8);
}

/* ===== INPUTS ===== */
input, textarea, select {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 1.25rem;
  padding: 0.85rem;
  color: white;
  outline: none;
}

input::placeholder, textarea::placeholder {
  color: rgba(255,255,255,0.6);
}

/* ===== RESPONSIVE ===== */

/* Phones */
@media (max-width: 640px) {
  body { padding: 1rem; }
  h1 { font-size: 2rem; }
  .glass { padding: 1.25rem; }
  .upload-box { padding: 1.5rem; }
}

/* Tablets */
@media (min-width: 641px) and (max-width: 1024px) {
  h1 { font-size: 2.75rem; }
  .glass { padding: 2rem; }
}

/* Desktop */
@media (min-width: 1025px) {
  h1 { font-size: 3.5rem; }
  .glass { padding: 3rem; }
}
</style>
</head>

<body class="min-h-screen flex justify-center p-6">

<div class="max-w-3xl w-full glass space-y-8">

<header class="text-center space-y-4">
  <img src="logo.png" class="w-44 mx-auto">
  <h1 class="font-extrabold text-orange-400">Professional 3D Printing</h1>
  <p class="text-gray-400">Fast · Precise · Premium</p>
</header>

<div class="glass p-4 text-center">
  <p class="text-gray-400">Pricing</p>
  <p class="font-semibold">£1 / hour · £0.01 / gram PLA</p>
  <p class="text-sm text-gray-500">Free shipping over £50</p>
</div>

<section class="space-y-3">
  <h2 class="text-2xl font-bold text-orange-400">Instant Estimate</h2>
  <div class="glass p-4 space-y-2">
    <div class="flex justify-between"><span>Items</span><strong id="items-cost">£0.00</strong></div>
    <div class="flex justify-between"><span>Shipping</span><strong id="shipping-cost">£0.00</strong></div>
    <hr class="border-gray-700">
    <div class="flex justify-between text-lg font-bold"><span>Total</span><span id="total-cost">£0.00</span></div>
  </div>
</section>

<section class="space-y-4">
  <h2 class="text-2xl font-bold text-orange-400">Customer Info</h2>
  <input id="customer-name" placeholder="Full name">
  <input id="postcode" placeholder="Postcode">
  <textarea id="address" placeholder="Address"></textarea>
</section>

<section class="space-y-4">
  <h2 class="text-2xl font-bold text-orange-400">Upload Model</h2>

  <div class="upload-box neon-orange relative glass">
    <input id="model-upload" type="file" accept=".obj,.3mf,.amf"
      class="absolute inset-0 w-full h-full opacity-0 cursor-pointer">
    <p class="font-bold text-lg">Click to upload</p>
    <p class="text-sm text-gray-400">OBJ · 3MF · AMF — Max 8MB</p>
  </div>

  <p id="upload-status" class="text-sm text-gray-400 italic">
    No file uploaded
  </p>
</section>

<section class="space-y-4">
  <h2 class="text-2xl font-bold text-orange-400">PLA Colour</h2>
  <select id="pla-color">
    <option>White</option>
    <option>Black</option>
    <option>Red</option>
    <option>Blue</option>
    <option>Green</option>
  </select>
  <p class="text-sm text-gray-400">
    Multi-colour prints? Contact me via Gmail.
  </p>
</section>

<section class="space-y-4">
  <h2 class="text-2xl font-bold text-orange-400">Secure Payment</h2>
  <div id="paypal-button-container"></div>
</section>

<footer class="text-center text-sm text-gray-500 pt-6 border-t border-gray-700">
  © <span id="year"></span> Mulbum3D
</footer>

</div>

<script>
const HOURS_RATE = 1;
const PLA_RATE = 0.01;
const FREE_SHIPPING = 50;

let modelFile = null;
let currentCost = 0;

const itemsCostEl = document.getElementById("items-cost");
const shippingCostEl = document.getElementById("shipping-cost");
const totalCostEl = document.getElementById("total-cost");
const uploadStatusEl = document.getElementById("upload-status");

document.getElementById("year").textContent = new Date().getFullYear();

function updateEstimate(mb) {
  const weight = mb * 50;
  const hours = mb * 2;
  const items = hours * HOURS_RATE + weight * PLA_RATE;
  const ship = items >= FREE_SHIPPING ? 0 : 3.99;
  currentCost = items + ship;

  itemsCostEl.textContent = `£${items.toFixed(2)}`;
  shippingCostEl.textContent = ship === 0 ? "FREE" : `£${ship.toFixed(2)}`;
  totalCostEl.textContent = `£${currentCost.toFixed(2)}`;
}

document.getElementById("model-upload").addEventListener("change", e => {
  const file = e.target.files[0];
  if (!file) return;

  if (!file.name.match(/\.(obj|3mf|amf)$/i)) {
    alert("Only OBJ, 3MF, AMF files allowed");
    e.target.value = "";
    return;
  }

  if (file.size > 8 * 1024 * 1024) {
    alert("Max file size is 8MB");
    e.target.value = "";
    return;
  }

  modelFile = file;
  updateEstimate(file.size / (1024 * 1024));
  uploadStatusEl.textContent = `Uploaded: ${file.name} (${(file.size/1024/1024).toFixed(2)} MB)`;
  uploadStatusEl.classList.remove("italic");
});

paypal.Buttons({
  createOrder: (data, actions) => {
    if (!modelFile) {
      alert("Upload a model first");
      return;
    }
    return actions.order.create({
      purchase_units: [{
        amount: { currency_code: "GBP", value: currentCost.toFixed(2) }
      }]
    });
  },
  onApprove: () => alert("Payment successful!")
}).render("#paypal-button-container");
</script>

</body>
</html>
